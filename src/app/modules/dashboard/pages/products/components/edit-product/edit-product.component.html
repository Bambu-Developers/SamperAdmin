<div class="sa-dashboard-main-content">
  <mat-spinner *ngIf="loading" class="sa-loader" mode="indeterminate"> </mat-spinner>
  <div class="sa-edit-product-content">
    <h3 class="sa-text-24 sa-charcoal-grey sa-roboto">{{lanProduct.products}}</h3>
    <form (ngSubmit)="editProduct()" [formGroup]="editProductForm">
      <mat-card>
        <div class="sa-product-content sa-gray-medium">
          <div class="sa-upload-image" (click)="file.click()" style="cursor: pointer">
            <img class="sa-current-img" src="{{dataSource?.img_preview_url}}" *ngIf="!imgURL">
            <input #file type="file" accept='image/*' (change)="handleFileSelect($event)"
            (change)="preview(file.files)" style="display: none">
            <img [src]="imgURL" height="100%" *ngIf="imgURL">
          </div>
          <div class="sa-info-column">
            <mat-form-field class="sa-input-text sa-no-label">
              <input matInput placeholder="{{dataSource?.name}}" formControlName="name">
              <mat-error *ngIf="editProductForm.controls.name.hasError('required')">{{language.errorRequired}}</mat-error>
            </mat-form-field>
            <mat-form-field class="sa-input-text">
              <input matInput placeholder="{{dataSource?.sku}}" disabled>
            </mat-form-field>
            <mat-form-field class="sa-input-text sa-no-label">
              <input matInput placeholder="{{dataSource?.brand}}" formControlName="brand">
              <mat-error *ngIf="editProductForm.controls.brand.hasError('required')">{{language.errorRequired}}</mat-error>
            </mat-form-field>
          </div>
          <div class="sa-info-column-right">
            <div class="sa-info-unitsPackage">
              <mat-form-field class="sa-input-amount sa-no-label" id="unitsPackage">
                <input matInput placeholder="{{dataSource?.units_package}}" [textMask]="{mask: numberMask}" formControlName="unitsPackage">
                <mat-error *ngIf="editProductForm.controls.unitsPackage.hasError('required')">{{language.required}}</mat-error>
              </mat-form-field> <p class="sa-p-right sa-text-14 sa-roboto">{{lanProduct.newProduct.unitsPackage}}</p>
            </div>
            <p class="sa-p sa-text-14 sa-roboto">{{lanProduct.newProduct.category}}</p>
            <mat-form-field class="sa-input-text sa-no-label">
              <input matInput placeholder="{{dataSource?.category}}" formControlName="category">
              <mat-error *ngIf="editProductForm.controls.category.hasError('required')">{{language.errorRequired}}</mat-error>
            </mat-form-field>
            <p class="sa-p sa-text-14 sa-roboto">{{lanProduct.newProduct.content}}</p>
            <mat-form-field class="sa-input-text sa-no-label">
              <input matInput placeholder="{{dataSource?.content}}"formControlName="content">
              <mat-error *ngIf="editProductForm.controls.content.hasError('required')">{{language.errorRequired}}</mat-error>
            </mat-form-field>
          </div>
        </div>
      </mat-card>
      <mat-card class="sa-product-price-info sa-gray-medium">
        <div class="sa-product-price-expand">
          <div class="sa-product-info-top">
            <div class="sa-product-retail-pricing">
              <mat-label class="sa-p sa-text-14 sa-roboto">{{lanProduct.newProduct.retailPrice}}</mat-label>
              <mat-form-field class="sa-input-amount sa-no-label">
                <input matInput placeholder="{{dataSource?.retail_price}}"[textMask]="{mask: currencyMask}" formControlName="retailPrice">
                <span matPrefix>$&nbsp;</span>
                <span matSuffix>MXN</span>
                <mat-error *ngIf="editProductForm.controls.retailPrice.hasError('required')">{{language.errorRequired}}</mat-error>
              </mat-form-field>
            </div>
            <div class="sa-product-wholesale-pricing">
              <div class="sa-wholesale">
                <mat-label class="sa-p sa-text-14 sa-roboto">{{lanProduct.newProduct.wholesalePrice}}</mat-label>
                <mat-form-field class="sa-input-amount sa-no-label">
                  <input matInput placeholder="{{dataSource?.wholesale_price}}" [textMask]="{mask: currencyMask}" formControlName="wholesalePrice">
                  <span matPrefix>$&nbsp;</span>
                  <span matSuffix>MXN</span>
                  <mat-error *ngIf="editProductForm.controls.retailPrice.hasError('required')">{{language.errorRequired}}</mat-error>
                </mat-form-field>
              </div>
              <div class="sa-wholesale-quantity">
                <mat-label class="sa-p sa-text-14 sa-roboto">{{lanProduct.newProduct.wholesaleQuantity}}</mat-label>
                <div class="sa-wholesale-units">
                  <mat-form-field class="sa-input-amount sa-wq sa-no-label">
                    <input matInput placeholder="{{dataSource?.wholesale_quantity}}" [textMask]="{mask: numberMask}" formControlName="wholesaleQuantity">
                  </mat-form-field>
                  <p class="sa-p-right sa-text-14 sa-roboto">{{lanProduct.newProduct.units}}</p>
                </div>
              </div>
            </div>
          </div>
          <section class="sa-checkbox-prices sa-text-14 sa-roboto">
            <mat-checkbox #display>Habilitar precios por d√≠a</mat-checkbox>
          </section>
          <ul class="sa-product-price-per-day" *ngIf="display.checked">
            <li>
              <mat-label class="sa-text-14 sa-roboto">{{lanProduct.pricing.monday}}</mat-label>
              <mat-form-field class="sa-input-amount sa-no-label">
                <input matInput placeholder="{{dataSource?.monday_price}}" [textMask]="{mask: currencyMask}" formControlName="mondayPrice">
                <span matPrefix>$&nbsp;</span>
                <span matSuffix>MXN</span>
                <mat-error *ngIf="editProductForm.controls.mondayPrice.hasError('required')">{{language.errorRequired}}</mat-error>
              </mat-form-field>
            </li>
            <li>
              <mat-label class="sa-text-14 sa-roboto">{{lanProduct.pricing.tuesday}}</mat-label>
              <mat-form-field class="sa-input-amount sa-no-label">
                <input matInput placeholder="{{dataSource?.tuesday_price}}" [textMask]="{mask: currencyMask}" formControlName="tuesdayPrice">
                <span matPrefix>$&nbsp;</span>
                <span matSuffix>MXN</span>
                <mat-error *ngIf="editProductForm.controls.tuesdayPrice.hasError('required')">{{language.errorRequired}}</mat-error>
              </mat-form-field>
            </li>
            <li>
              <mat-label class="sa-text-14 sa-roboto">{{lanProduct.pricing.wednesday}}</mat-label>
              <mat-form-field class="sa-input-amount sa-no-label">
                <input matInput placeholder="{{dataSource?.wednesday_price}}" [textMask]="{mask: currencyMask}" formControlName="wednesdayPrice">
                <span matPrefix>$&nbsp;</span>
                <span matSuffix>MXN</span>
                <mat-error *ngIf="editProductForm.controls.wednesdayPrice.hasError('required')">{{language.errorRequired}}</mat-error>
              </mat-form-field>
            </li>
            <li>
              <mat-label class="sa-text-14 sa-roboto">{{lanProduct.pricing.thursday}}</mat-label>
              <mat-form-field class="sa-input-amount sa-no-label">
                <input matInput placeholder="{{dataSource?.thursday_price}}" [textMask]="{mask: currencyMask}" formControlName="thursdayPrice">
                <span matPrefix>$&nbsp;</span>
                <span matSuffix>MXN</span>
                <mat-error *ngIf="editProductForm.controls.thursdayPrice.hasError('required')">{{language.errorRequired}}</mat-error>
              </mat-form-field>
            </li>
            <li>
              <mat-label class="sa-text-14 sa-roboto">{{lanProduct.pricing.friday}}</mat-label>
              <mat-form-field class="sa-input-amount sa-no-label">
                <input matInput placeholder="{{dataSource?.friday_price}}" [textMask]="{mask: currencyMask}" formControlName="fridayPrice">
                <span matPrefix>$&nbsp;</span>
                <span matSuffix>MXN</span>
                <mat-error *ngIf="editProductForm.controls.fridayPrice.hasError('required')">{{language.errorRequired}}</mat-error>
              </mat-form-field>
            </li>
            <li>
              <mat-label class="sa-text-14 sa-roboto">{{lanProduct.pricing.saturday}}</mat-label>
              <mat-form-field class="sa-input-amount sa-no-label">
                <input matInput placeholder="{{dataSource?.saturday_price}}" [textMask]="{mask: currencyMask}" formControlName="saturdayPrice">
                <span matPrefix>$&nbsp;</span>
                <span matSuffix>MXN</span>
                <mat-error *ngIf="editProductForm.controls.saturdayPrice.hasError('required')">{{language.errorRequired}}</mat-error>
              </mat-form-field>
            </li>
            <li>
              <mat-label class="sa-text-14 sa-roboto">{{lanProduct.pricing.sunday}}</mat-label>
              <mat-form-field class="sa-input-amount sa-no-label">
                <input matInput placeholder="{{dataSource?.sunday_price}}" [textMask]="{mask: currencyMask}" formControlName="sundayPrice">
                <span matPrefix>$&nbsp;</span>
                <span matSuffix>MXN</span>
                <mat-error *ngIf="editProductForm.controls.sundayPrice.hasError('required')">{{language.errorRequired}}</mat-error>
              </mat-form-field>
            </li>
          </ul>
        </div>
      </mat-card>
      <div class="sa-edit-product-actions">
        <button [routerLink]="['/dashboard/products/']" class="sa-btn-small" mat-raised-button color="white">{{language.cancel}}</button>
        <button type="submit" class="sa-btn-small" mat-raised-button color="charcoal-grey">{{lanProduct.save}}</button>
      </div>
    </form>
  </div>
</div>
