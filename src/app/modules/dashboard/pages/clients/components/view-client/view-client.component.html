<div class="sa-dashboard-main-content">
  <div class="sa-view-client-content">
    <img src="/assets/icons/icon-vendedor-back-gray.svg" [routerLink]="['/dashboard/clients/']">
    <div class="sa-client-content">
      <h3 class="sa-text-24 sa-charcoal-grey sa-roboto">{{lanClient.clients}}</h3>
      <div class="sa-client-sections">
        <div class="sa-left-column">
          <mat-card class="sa-shop-image-card">
            <img src="{{dataSource?.photo}}" alt="N/A">
          </mat-card>
          <mat-card class="sa-bender-type-card sa-roboto sa-charcoal-grey sa-text-14">
            <mat-label class="sa-roboto-medium sa-text-18">Mayorista</mat-label>
            <div class="sa-purchased-products">
              <mat-label class="sa-roboto-medium"> {{lanClient.purchasedProducts}} </mat-label>
              <div class="sa-products">
                <!-- PRODUCTS TO SHOW -->
              </div>
            </div>
            <mat-label class="sa-roboto-medium"> {{lanClient.ticketAvarage}} </mat-label>
            <mat-label class="sa-amount">$9,500.00 MXN</mat-label>
          </mat-card>
        </div>
        <div class="sa-right-column">
          <mat-card class="sa-client-info">
            <div class="sa-client-title sa-roboto-medium sa-text-18 sa-charcoal-grey">
              <mat-label> {{dataSource?.bender_id}} </mat-label>
              <mat-label class="sa-route"> {{dataSource?.route_id}} </mat-label>
            </div>
            <div class="sa-info sa-brownish-grey sa-text-14 sa-roboto">
              <mat-label> {{dataSource?.name}} </mat-label>
              <mat-label> "{{dataSource?.shop_name}}" </mat-label>
              <!-- <div>
                  <mat-label> {{lanClient.client.address}} </mat-label>
                  <mat-label class="sa-charcoal-grey"> {{dataSource?.address}} </mat-label>
              </div> -->
              <div>
                <mat-label> {{lanClient.client.phone}} </mat-label>
                <mat-label class="sa-charcoal-grey"> {{dataSource?.phone}} </mat-label>
              </div>
              <div>
                <mat-label> {{lanClient.client.email}} </mat-label>
                <mat-label class="sa-charcoal-grey"> {{dataSource?.email}} </mat-label>
              </div>
              <!-- <div>
                  <mat-label> {{lanClient.client.createdBy}} </mat-label>
                  <mat-label class="sa-charcoal-grey"> {{dataSource?.created_by}} </mat-label>
              </div> -->
            </div>
          </mat-card>
          <mat-card class="sa-credit-info">
            <div *ngIf="dataSource?.haveCredit; then withCredit else withoutCredit">{{dataSource?.haveCredit}}</div>
            <ng-template #withCredit>
              <div class="sa-with-credit">
                <div class="sa-content sa-roboto sa-charcoal-grey">
                  <mat-label class="sa-roboto-medium sa-text-18 sa-charcoal-grey">{{lanClient.credit.withCredit}}
                  </mat-label>
                  <div class="sa-credit-details">
                    <div class="sa-amount-assigned">
                      <mat-label class="sa-roboto-medium sa-text-14" *ngIf="!editCredit">
                        {{lanClient.credit.assignedAmount}} </mat-label>
                      <ng-container *ngIf="!editCredit; else editCreditAssigned">
                        <mat-label class="sa-roboto sa-text-14">$6,500.00 MXN</mat-label>
                      </ng-container>
                      <ng-template #editCreditAssigned>
                        <form (ngSubmit)="editCredit()" [formGroup]="editCreditForm">
                          <div class="sa-edit-credit">
                            <div class="sa-inputs">
                              <div class="sa-label-input">
                                <mat-label class="sa-roboto-medium sa-text-14"> {{lanClient.credit.assignedAmount}}
                                </mat-label>
                                <mat-form-field class="sa-input-amount">
                                  <input matInput placeholder="" [textMask]="{mask: currencyMask}"
                                    formControlName="amountAssigned">
                                  <span matPrefix>{{lanClient.credit.currencySymbol}}</span>
                                  <span matSuffix>{{lanClient.credit.country}}</span>
                                  <mat-error *ngIf="editCreditForm.controls.amountAssigned.hasError('required')">
                                    {{language.errorRequired}}</mat-error>
                                </mat-form-field>
                              </div>
                              <div class="sa-label-input-validity">
                                <mat-label class="sa-roboto-medium sa-text-14"> {{lanClient.credit.validity}}
                                </mat-label>
                                <mat-form-field class="sa-validity-input sa-input-amount">
                                  <input matInput placeholder="" [textMask]="{mask: currencyMask}"
                                    formControlName="validityDate">
                                  <span matPrefix>{{lanClient.credit.currencySymbol}}</span>
                                  <span matSuffix>{{lanClient.credit.country}}</span>
                                  <mat-error *ngIf="editCreditForm.controls.validityDate.hasError('required')">
                                    {{language.errorRequired}}</mat-error>
                                </mat-form-field>
                              </div>
                            </div>

                            <!-- <div class="sa-edit-credit-actions">
                              <button class="sa-btn-small" mat-raised-button color="white" (click)="editCredit = false">{{language.cancel}}</button>
                              <button type="submit" class="sa-btn-small" mat-raised-button color="charcoal-grey">{{lanClient.save}}</button>
                            </div> -->

                          </div>
                        </form>
                      </ng-template>
                    </div>
                    <div class="sa-validity">
                      <ng-container *ngIf="!editCredit">
                        <mat-label class="sa-roboto-medium sa-text-14"> {{lanClient.credit.validity}} </mat-label>
                        <mat-label class="sa-roboto sa-text-14">20 / Ago / 2018</mat-label>
                      </ng-container>
                    </div>
                    <div class="sa-progress-bar">
                      <mat-progress-bar value="45"></mat-progress-bar>
                      <div class="sa-amount-in-bar">
                        <div class="sa-amount-used">
                          <div class="sa-dot"></div>
                          <div>
                            <mat-label class="sa-text-14">$1,500.00 MXN</mat-label>
                            <div>
                              <mat-label class="sa-label sa-text-12">{{lanClient.credit.amountUsed}}</mat-label>
                            </div>
                          </div>
                        </div>
                        <div class="sa-remaining-amount">
                          <div class="sa-dot"></div>
                          <div>
                            <mat-label class="sa-text-14">$5,000.00 MXN</mat-label>
                            <div>
                              <mat-label class="sa-label sa-text-12">{{lanClient.credit.remainingAmount}}</mat-label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div *ngIf="!editCredit" class="sa-credit-history">
                    <mat-label class="sa-roboto-medium sa-text-18 sa-charcoal-grey">{{lanClient.credit.creditHistory}}
                    </mat-label>
                    <div class="sa-amount-in-history">
                      <div class="sa-amount-assigned">
                        <mat-label class="sa-roboto-medium sa-text-14">{{lanClient.credit.assignedAmount}}</mat-label>
                        <mat-label class="sa-text-14">$3,500.00 MXN</mat-label>
                      </div>
                      <div class="sa-last-assigned">
                        <mat-label class="sa-roboto-medium sa-text-14">{{lanClient.credit.lastAmountAssigned}}
                        </mat-label>
                        <mat-label class="sa-text-14">12 / Jun / 2018</mat-label>
                      </div>
                    </div>
                  </div>
                  <div *ngIf="!editCredit" class="sa-transactions-list">
                    <mat-label class="sa-roboto-medium sa-text-14 sa-charcoal-grey">
                      {{lanClient.transactions.listOfTransactions}}</mat-label>
                  </div>
                  <!-- <div *ngIf="editCredit"></div> -->
                </div>
                <img src="/assets/icons/icon-edit-gray.svg" (click)="editCredit = true" *ngIf="!editCredit">
              </div>
            </ng-template>
            <ng-template #withoutCredit>
              <div class="sa-without-credit">

                <ng-container *ngIf="!assignedCredit; else assignCredit">
                  <mat-label class="sa-roboto-medium sa-text-18 sa-charcoal-grey">{{lanClient.credit.withoutCredit}}
                  </mat-label>
                  <mat-label class="sa-roboto sa-text-12 sa-charcoal-grey"
                             id="sa-assign-credit"
                             (click)="assignedCredit = true">
                             {{lanClient.credit.assignCredit}}
                  </mat-label>
                </ng-container>
                <ng-template #assignCredit>
                  <p>Sup</p>
                </ng-template>
                



              </div>
            </ng-template>

          </mat-card>
        </div>
      </div>
    </div>
  </div>
</div>